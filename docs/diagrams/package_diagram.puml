@startuml
skinparam packageStyle rectangle
skinparam linetype ortho

package "project-root" {
  package data {
    component "raw/" as raw_folder
    component "processed/" as processed_folder
  }

  package config {
    component ".env" as env_file
    component "config.yaml" as config_yaml
  }

  package orchestrator {
    component "config.py" as orchestrator_script
  }

  package scripts {
    component "ingest.py" as ingest_script
  }

  package notebooks {
    component "01_EDA.ipynb" as eda1
    component "02_Cleaning.ipynb" as cleaning
    component "03_EDA_Profundo.ipynb" as eda2
    component "04_Trend_Analysis.ipynb" as trend
  }

  package ml_models {
    component "training.py" as training
    component "optuna_study.py" as optuna
  }

  package docker {
    component "docker-compose.yml" as compose_file
    component "init_db.sql" as initdb
  }

  package ci_cd {
    component "ci.yml" as cicd
  }

  package reports {
    component "executive_report.pbix" as report_pbix
    component "dashboard.twbx" as dashboard
  }

  package tests {
    component "test_ingest.py" as test_ingest
    component "test_db.py" as test_db
    component "test_dashboard.py" as test_dashboard
    component "test_report.py" as test_report
  }
}

// Representación de la base de datos como cilindro según la documentación de PlantUML
database timescaledb as "TimescaleDB + PostgreSQL"

@enduml
